<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The English Hub</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;700;900&family=Fraunces:ital,wght@1,700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg:#0e0e16; --bg2:#18181f; --bg3:#1f1f28;
    --line:rgba(255,255,255,0.08);
    --text:#f5f5fa; --muted:#9494bb;
    --cap:#ff3b3b; --mbbe:#ffb800; --mrc:#00e5d8; --agora:#b94fff; --bts:#00f0a0;
  }
  *{margin:0;padding:0;box-sizing:border-box;}
  body{font-family:'Outfit',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;}
  body::after{content:'';position:fixed;inset:0;z-index:999;pointer-events:none;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");background-size:180px;opacity:0.028;}

  .hero{border-bottom:1px solid var(--line);padding:0 40px;position:relative;overflow:hidden;}
  .hero::before{content:'';position:absolute;top:-120px;left:-100px;width:600px;height:400px;background:radial-gradient(ellipse,rgba(255,59,59,0.08) 0%,transparent 70%);pointer-events:none;}
  .hero::after{content:'';position:absolute;top:-80px;right:-50px;width:400px;height:300px;background:radial-gradient(ellipse,rgba(0,229,216,0.06) 0%,transparent 70%);pointer-events:none;}
  .hero-top{display:flex;align-items:center;justify-content:space-between;padding:16px 0;border-bottom:1px solid var(--line);}
  .hero-tag{font-size:11px;letter-spacing:2px;text-transform:uppercase;color:var(--muted);}
  .flag-row{display:flex;gap:8px;font-size:1.2rem;}
  .hero-main{padding:44px 0 36px;display:flex;align-items:flex-end;justify-content:space-between;gap:32px;flex-wrap:wrap;}
  .hero-title{font-family:'Outfit',sans-serif;font-size:clamp(3.5rem,12vw,8rem);font-weight:900;letter-spacing:-3px;line-height:0.9;}
  .hero-title .the{display:block;font-size:0.32em;letter-spacing:8px;text-transform:uppercase;color:var(--muted);font-weight:500;margin-bottom:8px;}
  .hero-title .english{font-family:'Fraunces',serif;font-style:italic;font-weight:700;color:var(--cap);letter-spacing:-3px;}
  .hero-title .hub{display:block;font-size:0.48em;color:rgba(240,240,245,0.15);letter-spacing:6px;text-transform:uppercase;margin-top:4px;font-weight:900;}
  .hero-aside{max-width:260px;padding-bottom:6px;text-align:right;}
  .hero-aside p{font-size:14px;color:var(--muted);line-height:1.7;}
  .hero-aside strong{color:var(--text);font-weight:600;}
  .hero-links{display:flex;gap:10px;flex-wrap:wrap;padding:20px 0 28px;border-top:1px solid var(--line);}
  .hero-links{gap:0 !important;border-top:1px solid var(--line);padding:0 !important;}
  .hero-link{display:inline-flex;align-items:center;gap:8px;font-size:11px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;padding:14px 22px 12px;color:var(--muted);text-decoration:none;border-bottom:2px solid transparent;margin-bottom:-1px;transition:color 0.2s,border-color 0.2s;background:transparent;border-radius:0;border-top:none;border-left:none;border-right:none;}
  .hero-link:hover{color:var(--news);border-bottom-color:var(--news);}
  .hero-link.accent{color:var(--cap);}
  .hero-link.accent:hover{color:var(--cap);border-bottom-color:var(--cap);}

  .classes{max-width:1100px;margin:0 auto;padding:40px 40px 80px;display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:12px;}

  .class-card{background:var(--bg2);border-radius:10px;border:1px solid var(--line);cursor:pointer;text-decoration:none;display:block;color:inherit;opacity:0;transform:translateY(20px);transition:opacity 0.5s ease,transform 0.5s ease,border-color 0.2s,background 0.2s;overflow:hidden;position:relative;}
  .class-card.visible{opacity:1;transform:translateY(0);}
  .class-card:hover{background:var(--bg3);}
  .class-card::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px;opacity:0;transition:opacity 0.2s;}
  .class-card:hover::before{opacity:1;}

  .cap::before{background:var(--cap);} .cap:hover{border-color:rgba(255,82,82,0.3);}
  .mbbe::before{background:var(--mbbe);} .mbbe:hover{border-color:rgba(255,201,71,0.3);}
  .mrc::before{background:var(--mrc);} .mrc:hover{border-color:rgba(78,205,196,0.3);}
  .agora::before{background:var(--agora);} .agora:hover{border-color:rgba(199,125,255,0.3);}
  .bts::before{background:var(--bts);} .bts:hover{border-color:rgba(0,214,143,0.3);}

  .card-top{height:56px;display:flex;align-items:center;justify-content:space-between;padding:0 20px;border-bottom:1px solid var(--line);}
  .cap .card-top{background:linear-gradient(135deg,rgba(255,59,59,0.18),rgba(255,59,59,0.06));}
  .mbbe .card-top{background:linear-gradient(135deg,rgba(255,184,0,0.18),rgba(255,184,0,0.06));}
  .mrc .card-top{background:linear-gradient(135deg,rgba(0,229,216,0.18),rgba(0,229,216,0.06));}
  .agora .card-top{background:linear-gradient(135deg,rgba(185,79,255,0.18),rgba(185,79,255,0.06));}
  .bts .card-top{background:linear-gradient(135deg,rgba(0,240,160,0.18),rgba(0,240,160,0.06));}
  .card-emoji{font-size:1.4rem;}
  .card-level{font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--muted);}
  .card-body{padding:20px 20px 16px;}
  .card-title{font-family:'Outfit',sans-serif;font-size:1.3rem;font-weight:900;letter-spacing:-0.5px;margin-bottom:4px;}
  .cap .card-title{color:var(--cap);} .mbbe .card-title{color:var(--mbbe);} .mrc .card-title{color:var(--mrc);} .agora .card-title{color:var(--agora);} .bts .card-title{color:var(--bts);}
  .card-full{font-size:12px;color:var(--muted);margin-bottom:16px;line-height:1.5;}
  .card-sequences{display:flex;flex-direction:column;gap:6px;}
  .seq-item{display:flex;align-items:center;gap:10px;padding:8px 12px;background:var(--bg);border-radius:6px;font-size:12px;font-weight:500;border:1px solid var(--line);}
  .seq-dot{width:6px;height:6px;border-radius:50%;flex-shrink:0;}
  .cap .seq-dot{background:var(--cap);} .mbbe .seq-dot{background:var(--mbbe);} .mrc .seq-dot{background:var(--mrc);} .agora .seq-dot{background:var(--agora);} .bts .seq-dot{background:var(--bts);}
  .seq-num{font-size:10px;color:var(--muted);margin-left:auto;font-weight:700;letter-spacing:1px;}
  .card-footer{padding:12px 20px;border-top:1px solid var(--line);display:flex;align-items:center;justify-content:space-between;font-size:11px;color:var(--muted);letter-spacing:1px;text-transform:uppercase;font-weight:600;}
  .card-arrow{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.9rem;transition:transform 0.2s;}
  .class-card:hover .card-arrow{transform:translateX(4px);}
  .cap .card-arrow{background:rgba(255,82,82,0.12);color:var(--cap);}
  .mbbe .card-arrow{background:rgba(255,201,71,0.12);color:var(--mbbe);}
  .mrc .card-arrow{background:rgba(78,205,196,0.12);color:var(--mrc);}
  .agora .card-arrow{background:rgba(199,125,255,0.12);color:var(--agora);}
  .bts .card-arrow{background:rgba(0,214,143,0.12);color:var(--bts);}

  footer{border-top:1px solid var(--line);padding:24px 40px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px;}
  .footer-brand{font-size:14px;font-weight:700;background:linear-gradient(90deg,#ff3b3b 0%,#ffb800 25%,#00e5d8 50%,#b94fff 75%,#00f0a0 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
  .footer-meta{font-size:11px;letter-spacing:2px;text-transform:uppercase;color:var(--muted);}

  .modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.85);backdrop-filter:blur(6px);z-index:100;align-items:center;justify-content:center;padding:20px;}
  .modal-overlay.open{display:flex;}
  .modal{background:var(--bg2);border-radius:12px;border:1px solid rgba(255,255,255,0.1);width:100%;max-width:700px;max-height:88vh;overflow-y:auto;animation:popIn 0.25s cubic-bezier(0.34,1.56,0.64,1);}
  @keyframes popIn{from{opacity:0;transform:scale(0.94);}to{opacity:1;transform:scale(1);}}
  .modal-header{height:80px;display:flex;align-items:center;justify-content:space-between;padding:0 24px;position:sticky;top:0;z-index:10;border-bottom:1px solid rgba(255,255,255,0.08);}
  .modal-title-block h2{font-family:'Outfit',sans-serif;font-size:1.5rem;font-weight:900;letter-spacing:-0.5px;}
  .modal-title-block p{font-size:12px;color:var(--muted);margin-top:2px;}
  .modal-close{width:36px;height:36px;border-radius:50%;background:rgba(255,255,255,0.08);border:none;color:white;font-size:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background 0.2s;flex-shrink:0;}
  .modal-close:hover{background:rgba(255,255,255,0.16);}
  .modal-body{padding:24px;}

  .seq-full{display:flex;flex-direction:column;gap:12px;}
  .seq-full-item{background:var(--bg3);border-radius:10px;padding:16px 18px;border:1px solid var(--line);transition:border-color 0.2s;}
  .seq-full-item:hover{border-color:rgba(255,255,255,0.14);}
  .seq-full-header{display:flex;align-items:center;gap:12px;margin-bottom:8px;}
  .seq-full-num{width:30px;height:30px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-family:'Outfit',sans-serif;font-weight:900;font-size:0.75rem;color:white;flex-shrink:0;}
  .seq-full-title{font-weight:700;font-size:0.95rem;}
  .coming-soon{display:inline-block;font-size:10px;padding:3px 10px;border-radius:20px;background:rgba(255,255,255,0.06);color:var(--muted);margin-left:auto;letter-spacing:1px;}
  .seq-full-desc{font-size:13px;color:var(--muted);line-height:1.6;padding-left:42px;margin-bottom:10px;}

  .seq-magazine-item{border-radius:14px;overflow:hidden;border:1px solid var(--line);cursor:pointer;transition:border-color 0.2s,background 0.2s;background:var(--bg3);}
  .seq-magazine-item:hover{border-color:rgba(199,125,255,0.35);background:var(--bg2);}
  .mag-img{width:100%;height:160px;object-fit:cover;display:block;}
  .mag-img-placeholder{width:100%;height:160px;display:flex;align-items:center;justify-content:center;font-size:2.5rem;background:rgba(199,125,255,0.12);}
  .mag-body{padding:14px 16px;}
  .mag-badge{display:inline-block;font-size:10px;font-weight:800;letter-spacing:1.5px;text-transform:uppercase;padding:3px 10px;border-radius:4px;margin-bottom:8px;background:rgba(199,125,255,0.15);color:var(--agora);}
  .mag-title{font-family:'Outfit',sans-serif;font-size:1rem;font-weight:700;margin-bottom:6px;line-height:1.2;color:var(--text);}
  .mag-desc{font-size:12px;color:var(--muted);line-height:1.6;margin-bottom:12px;}
  .mag-footer{display:flex;align-items:center;justify-content:space-between;padding-top:10px;border-top:1px solid var(--line);}
  .mag-ws-count{font-size:11px;color:var(--muted);font-weight:600;}
  .mag-cta{font-size:11px;font-weight:700;color:var(--agora);letter-spacing:1px;}

  .worksheets{padding-left:42px;display:flex;flex-direction:column;gap:8px;}
  .worksheet-row{display:flex;align-items:center;gap:8px;flex-wrap:wrap;}
  .ws-name{font-size:13px;font-weight:600;color:var(--text);min-width:110px;}
  .ws-btn{display:inline-flex;align-items:center;gap:5px;padding:5px 12px;border-radius:6px;font-size:11px;font-weight:700;cursor:pointer;border:none;transition:opacity 0.2s;text-decoration:none;color:white;letter-spacing:0.5px;}
  .ws-btn:hover{opacity:0.8;}
  .ws-view{background:rgba(255,255,255,0.1);}

  /* ‚ïê‚ïê GAMES SECTION ‚ïê‚ïê */
  .games-section{margin-bottom:20px;border-radius:12px;overflow:hidden;border:1px solid rgba(199,125,255,0.25);background:linear-gradient(135deg,rgba(185,79,255,0.08) 0%,rgba(109,40,217,0.05) 100%);}
  .games-section-header{display:flex;align-items:center;gap:10px;padding:12px 16px;border-bottom:1px solid rgba(199,125,255,0.15);}
  .games-section-header .games-icon{font-size:1.2rem;}
  .games-section-header .games-label{font-size:10px;font-weight:800;letter-spacing:2px;text-transform:uppercase;color:var(--agora);}
  .games-section-header .games-desc{font-size:11px;color:var(--muted);margin-left:auto;}
  .games-list{display:flex;flex-direction:column;gap:6px;padding:12px 16px;}
  .game-row{display:flex;align-items:center;gap:10px;padding:10px 14px;background:var(--bg);border-radius:8px;border:1px solid rgba(199,125,255,0.12);transition:border-color 0.2s,background 0.2s;}
  .game-row:hover{border-color:rgba(199,125,255,0.35);background:rgba(185,79,255,0.05);}
  .game-emoji{font-size:1.1rem;flex-shrink:0;}
  .game-info{flex:1;min-width:0;}
  .game-name{font-size:13px;font-weight:700;color:var(--text);}
  .game-meta{font-size:10px;color:var(--muted);margin-top:1px;letter-spacing:0.5px;}
  .game-play-btn{display:inline-flex;align-items:center;gap:5px;padding:6px 14px;border-radius:6px;font-size:11px;font-weight:800;cursor:pointer;border:none;text-decoration:none;color:white;letter-spacing:0.5px;background:linear-gradient(135deg,#b94fff,#6d28d9);transition:opacity 0.2s,transform 0.15s;white-space:nowrap;flex-shrink:0;}
  .game-play-btn:hover{opacity:0.85;transform:translateY(-1px);}

  .mag-detail{display:none;} .mag-detail.open{display:block;}
  .mag-detail-header{display:flex;align-items:center;gap:12px;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid var(--line);}
  .mag-back{background:rgba(255,255,255,0.07);border:none;color:white;padding:7px 14px;border-radius:6px;font-size:12px;font-weight:700;cursor:pointer;transition:background 0.2s;display:flex;align-items:center;gap:6px;}
  .mag-back:hover{background:rgba(255,255,255,0.13);}
  .mag-detail-title{font-family:'Outfit',sans-serif;font-size:1.1rem;font-weight:800;color:var(--agora);}
  .mag-detail-img{width:100%;height:200px;object-fit:cover;border-radius:10px;margin-bottom:16px;display:block;}
  .mag-detail-desc{font-size:13px;color:var(--muted);line-height:1.7;margin-bottom:20px;padding:14px 16px;background:rgba(199,125,255,0.07);border-left:3px solid var(--agora);border-radius:0 8px 8px 0;}
  .mag-detail-ws-title{font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--muted);margin-bottom:10px;}
  .mag-ws-list{display:flex;flex-direction:column;gap:8px;}
  .mag-ws-row{display:flex;align-items:center;gap:8px;padding:10px 14px;background:var(--bg3);border-radius:8px;border:1px solid var(--line);flex-wrap:wrap;}
  .mag-ws-name{font-size:12px;font-weight:600;flex:1;}

  .status-badge{display:inline-block;font-size:10px;padding:3px 10px;border-radius:20px;font-weight:700;}
  .status-done{background:rgba(0,214,143,0.1);color:var(--bts);}
  .status-ongoing{background:rgba(255,201,71,0.1);color:var(--mbbe);}
  .status-upcoming{background:rgba(255,255,255,0.06);color:var(--muted);}
  .mag-status{display:inline-block;font-size:10px;padding:2px 8px;border-radius:4px;margin-bottom:8px;font-weight:700;}

  .mobile-nav{display:none;position:fixed;bottom:0;left:0;right:0;z-index:200;background:rgba(17,17,24,0.97);backdrop-filter:blur(20px);border-top:1px solid var(--line);padding:8px 4px 16px;}
  .mobile-nav-inner{display:flex;justify-content:space-around;align-items:center;}
  .mobile-nav-item{display:flex;flex-direction:column;align-items:center;gap:3px;padding:6px 10px;border-radius:10px;cursor:pointer;border:none;background:transparent;transition:background 0.2s;flex:1;color:white;}
  .mobile-nav-item .nav-emoji{font-size:1.3rem;}
  .mobile-nav-item .nav-label{font-size:9px;font-weight:700;letter-spacing:0.5px;text-transform:uppercase;color:var(--muted);transition:color 0.2s;}
  .mobile-nav-item.active .nav-label{color:white;}
  .mobile-nav-item.active{background:rgba(255,255,255,0.07);}

  @media(max-width:640px){
    .mobile-nav{display:block;} body{padding-bottom:80px;}
    .hero,footer{padding-left:20px;padding-right:20px;}
    .classes{padding:24px 20px 60px;grid-template-columns:1fr;}
    .hero-main{flex-direction:column;align-items:flex-start;gap:16px;}
    .hero-aside{text-align:left;}
  }

  /* ‚ïê‚ïê HOVER EFFECTS ‚ïê‚ïê */

  /* MBBE - Highlighter shimmer */
  .mbbe { overflow: hidden !important; }
  .mbbe::before { content:''; position:absolute; inset:0; background:linear-gradient(105deg, transparent 35%, rgba(255,220,100,0.13) 48%, rgba(255,255,255,0.18) 52%, rgba(255,215,80,0.10) 56%, transparent 65%); opacity:0; pointer-events:none; z-index:5; transition:none; }
  .mbbe:hover::before { animation: highlightSlide 1.2s ease forwards; }
  @keyframes highlightSlide {
    0%   { opacity:0; transform:translateX(-100%); }
    10%  { opacity:1; }
    90%  { opacity:1; }
    100% { opacity:0; transform:translateX(200%); }
  }
  .glitter { position:absolute; pointer-events:none; border-radius:50%; animation:glitterBlink 1.0s ease forwards; z-index:10; }
  @keyframes glitterBlink {
    0%   { transform:scale(0); opacity:0; }
    30%  { transform:scale(1); opacity:1; }
    70%  { transform:scale(0.8); opacity:0.8; }
    100% { transform:scale(0); opacity:0; }
  }

  /* MRC - Pulse ring */
  .mrc { overflow: visible !important; }
  .mrc::after { content: ''; position: absolute; inset: -2px; border-radius: 12px; border: 2px solid rgba(0,229,216,0); transition: none; pointer-events: none; }
  .mrc:hover::after { animation: pulseRing 1s ease-out infinite; }
  @keyframes pulseRing {
    0%   { box-shadow: 0 0 0 0 rgba(0,229,216,0.5); border-color: rgba(0,229,216,0.6); }
    70%  { box-shadow: 0 0 0 14px rgba(0,229,216,0); border-color: rgba(0,229,216,0); }
    100% { box-shadow: 0 0 0 0 rgba(0,229,216,0); }
  }

  /* CAP - Floating dots */
  .float-dot { position: absolute; border-radius: 50%; background: var(--cap); pointer-events: none; animation: floatUp 1.2s ease forwards; z-index: 10; opacity: 0.7; }
  @keyframes floatUp {
    0%   { transform: translateY(0) scale(1); opacity: 0.8; }
    60%  { opacity: 0.6; }
    100% { transform: translateY(-100px) scale(0.2); opacity: 0; }
  }

  /* AGORA - Equalizer bars */
  .eq-bar { position:absolute; bottom:12px; width:3px; border-radius:2px; background:var(--agora); pointer-events:none; z-index:10; animation:eqBounce var(--dur) ease-in-out infinite alternate; opacity:0.85; }
  @keyframes eqBounce {
    0%   { transform:scaleY(0.2); }
    100% { transform:scaleY(1); }
  }

  /* BTS - Shimmer */
  .bts { overflow: hidden !important; }
  .bts::after { content: ''; position: absolute; top: 0; left: -100%; width: 60%; height: 100%; background: linear-gradient(105deg, transparent 40%, rgba(0,240,160,0.12) 50%, rgba(255,255,255,0.08) 55%, rgba(0,240,160,0.08) 60%, transparent 70%); pointer-events: none; transition: none; z-index: 5; }
  .bts:hover::after { animation: shimmerSlide 1.4s ease forwards; }
  @keyframes shimmerSlide {
    0%   { left: -100%; opacity: 0; }
    10%  { opacity: 1; }
    90%  { opacity: 1; }
    100% { left: 200%; opacity: 0; }
  }

  /* ‚îÄ‚îÄ ORGANIC WAVE GRADIENT "English" ‚îÄ‚îÄ */
  .english-wave {
    background: linear-gradient(
      90deg,
      #ff2200 0%,
      #ff5500 6%,
      #ff8800 12%,
      #ffbb00 18%,
      #ffdd00 24%,
      #aaee00 30%,
      #44dd88 36%,
      #00cccc 42%,
      #0099ff 48%,
      #4455ff 54%,
      #8833ff 60%,
      #aa00ff 64%,
      #6633ff 68%,
      #0099ff 74%,
      #00cccc 79%,
      #44dd88 84%,
      #ffbb00 89%,
      #ff8800 93%,
      #ff5500 97%,
      #ff2200 100%
    );
    background-size: 300% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: englishWave 12s linear infinite;
  }
  @keyframes englishWave {
    0%   { background-position: 0% center; }
    100% { background-position: 300% center; }
  }

  /* ‚îÄ‚îÄ CARD-FULL READABILITY ‚îÄ‚îÄ */
  .card-full { color: #e8e8f4 !important; }
</style>
</head>
<body>

<header class="hero">
  <div class="hero-top">
    <span class="hero-tag">Lyc√©e Pro ¬∑ Anglais LV1</span>
    <div class="flag-row">üá¨üáß üåç üá∫üá∏</div>
  </div>
  <div class="hero-main">
    <h1 class="hero-title">
      <span class="the">The</span>
      <span class="english english-wave">English</span>
      <span class="hub">Hub</span>
    </h1>
    <div class="hero-aside">
      <p>Bienvenue ! Toutes tes s√©quences, docs et ressources en un clic. Choisis ta classe et <strong>let's go!</strong> üöÄ</p>
    </div>
  </div>
  <div class="hero-links">
    <a href="resources.html" class="hero-link">Ressources utiles</a>
    <a href="explore.html" class="hero-link accent">Explore</a>
  </div>
</header>

<div class="classes">
  <div class="class-card cap" onclick="openModal('cap')">
    <div class="card-top"><span class="card-emoji">üõçÔ∏è</span><span class="card-level">CAP</span></div>
    <div class="card-body">
      <div class="card-title">CAP TEPC</div>
      <div class="card-full">Equipier Polyvalent du Commerce</div>
      <div class="card-sequences">
        <div class="seq-item"><div class="seq-dot"></div> UNIT 1 ‚Äî Healthy ME! <span class="seq-num">U1</span></div>
        <div class="seq-item"><div class="seq-dot"></div> UNIT 2 ‚Äî Work Experience <span class="seq-num">U2</span></div>
        <div class="seq-item"><div class="seq-dot"></div> UNIT 3 ‚Äî Let's GO Shopping! <span class="seq-num">U3</span></div>
      </div>
    </div>
    <div class="card-footer"><span>Voir les s√©quences</span><div class="card-arrow">‚Üí</div></div>
  </div>

  <div class="class-card mbbe" onclick="openModal('mbbe')">
    <div class="card-top"><span class="card-emoji">üß¥</span><span class="card-level">2nde</span></div>
    <div class="card-body">
      <div class="card-title">2nde MBBE</div>
      <div class="card-full">M√©tiers de la Beaut√© et du Bien-√™tre</div>
      <div class="card-sequences">
        <div class="seq-item"><div class="seq-dot"></div> UNIT 1 ‚Äî GAME ON! <span class="seq-num">U1</span></div>
        <div class="seq-item"><div class="seq-dot"></div> UNIT 2 ‚Äî Your SKILLS Your JOB <span class="seq-num">U2</span></div>
        <div class="seq-item"><div class="seq-dot"></div> UNIT 3 ‚Äî MY FIRST DAY <span class="seq-num">U3</span></div>
      </div>
    </div>
    <div class="card-footer"><span>Voir les s√©quences</span><div class="card-arrow">‚Üí</div></div>
  </div>

  <div class="class-card mrc" onclick="openModal('mrc')">
    <div class="card-top"><span class="card-emoji">üõí</span><span class="card-level">2nde</span></div>
    <div class="card-body">
      <div class="card-title">2nde MRC</div>
      <div class="card-full">M√©tiers de la Relation Client</div>
      <div class="card-sequences">
        <div class="seq-item"><div class="seq-dot"></div> UNIT 1 ‚Äî GAME ON! <span class="seq-num">U1</span></div>
        <div class="seq-item"><div class="seq-dot"></div> UNIT 2 ‚Äî Your SKILLS Your JOB <span class="seq-num">U2</span></div>
        <div class="seq-item"><div class="seq-dot"></div> UNIT 3 ‚Äî WHAT I DID! <span class="seq-num">U3</span></div>
      </div>
    </div>
    <div class="card-footer"><span>Voir les s√©quences</span><div class="card-arrow">‚Üí</div></div>
  </div>

  <div class="class-card agora" onclick="openModal('agora')">
    <div class="card-top"><span class="card-emoji">üéôÔ∏è</span><span class="card-level">Terminale</span></div>
    <div class="card-body">
      <div class="card-title">Tle AGORA</div>
      <div class="card-full">Bac Pro Animation, Gestion &amp; Organisation des Relations humaines</div>
      <div class="card-sequences">
        <div class="seq-item"><div class="seq-dot"></div> UNIT 1 ‚Äî Schools Around the World <span class="seq-num">U1</span></div>
        <div class="seq-item"><div class="seq-dot"></div> UNIT 2 ‚Äî From Bombay to L.A. <span class="seq-num">U2</span></div>
        <div class="seq-item"><div class="seq-dot"></div> UNIT 3 ‚Äî My Internship <span class="seq-num">U3</span></div>
      </div>
    </div>
    <div class="card-footer"><span>Voir les s√©quences</span><div class="card-arrow">‚Üí</div></div>
  </div>

  <div class="class-card bts" onclick="openModal('bts')">
    <div class="card-top"><span class="card-emoji">üéì</span><span class="card-level">BTS</span></div>
    <div class="card-body">
      <div class="card-title">BTS MECP</div>
      <div class="card-full">M√©tiers de l'Esth√©tique-Cosm√©tique-Parfumerie</div>
      <div class="card-sequences">
        <div class="seq-item"><div class="seq-dot"></div> UNIT 1 ‚Äî Becoming a Beauty Professional <span class="seq-num">U1</span></div>
        <div class="seq-item"><div class="seq-dot"></div> UNIT 2 ‚Äî Skincare and Product Expertise <span class="seq-num">U2</span></div>
        <div class="seq-item"><div class="seq-dot"></div> UNIT 3 ‚Äî Digital Beauty <span class="seq-num">U3</span></div>
      </div>
    </div>
    <div class="card-footer"><span>Voir les s√©quences</span><div class="card-arrow">‚Üí</div></div>
  </div>
</div>

<footer>
  <span class="footer-brand">The English Hub</span>
  <span class="footer-meta">Lyc√©e des m√©tiers Florian ¬∑ Votre Professeur d'Anglais</span>
</footer>

<div class="modal-overlay" id="modal-overlay" onclick="closeModalOutside(event)">
  <div class="modal" id="modal">
    <div class="modal-header" id="modal-header">
      <div class="modal-title-block">
        <h2 id="modal-title">Classe</h2>
        <p id="modal-sub">Retrouve tes s√©quences</p>
      </div>
      <button class="modal-close" onclick="closeModal()">‚úï</button>
    </div>
    <div class="modal-body"><div id="modal-sequences"></div></div>
  </div>
</div>

<script>
const data={cap:{title:"CAP TEPC",sub:"Equipier polyvalent du commerce",color:"#ff5252",bg:"linear-gradient(135deg,#ff5252,#c0392b)",type:"magazine",sequences:[{num:"U1",title:"UNIT 1 ‚Äî Healthy ME!",desc:"Parler de sant√© (sport et alimentation) et produire une affiche en anglais simple pour promouvoir un mode de vie sain.",img:"https://nuage08.apps.education.fr/index.php/s/bRmFoSbJKEKnfsQ/preview",emoji:"ü•ó",date:"2026-02-20",status:"ongoing",worksheets:[{name:"Worksheet 1",url:"https://nuage08.apps.education.fr/index.php/s/nij2XPcFLncJokR"},{name:"Worksheet 2",url:"https://nuage08.apps.education.fr/index.php/s/FFpnRtE744djkCs"},{name:"Worksheet 3",url:"https://nuage08.apps.education.fr/index.php/s/zQSzM46zyRLDwc9"},{name:"Worksheet 4",url:"https://nuage08.apps.education.fr/index.php/s/H6P5EccAcYib4FY"},{name:"Eat a Rainbow",url:"https://nuage08.apps.education.fr/index.php/s/ATw3ynYyMADTs9d"}],video:"https://nuage08.apps.education.fr/index.php/s/rDqERmNR2KdndNj"},{num:"U2",title:"UNIT 2 ‚Äî Work Experience",desc:"Comprendre et utiliser des expressions simples pour s'orienter en ville dans un contexte professionnel, puis r√©diger un court texte structur√© pour pr√©senter son stage.",img:"https://nuage08.apps.education.fr/index.php/s/HdwAmy6gfxcHiSX/preview",emoji:"üíº",date:"2026-02-24",status:"upcoming",worksheets:[{name:"Work Experience ‚Äî 01",url:"https://nuage08.apps.education.fr/index.php/s/57wr5Rt4yFBSfYg"},{name:"Work Experience ‚Äî 02",url:"https://nuage08.apps.education.fr/index.php/s/p4PWQiK8Ek7ET4T"},{name:"Work Experience ‚Äî 03",url:"https://nuage08.apps.education.fr/index.php/s/Fd5jXdmYysSYrqC"}]},{num:"U3",title:"UNIT 3 ‚Äî Let's GO Shopping!",desc:"√ätre capable d'interagir simplement dans un commerce pour acheter un produit, poser une question sur le prix et payer.",img:"https://nuage08.apps.education.fr/index.php/s/MjASjM3fFbJf28g/preview",emoji:"üõçÔ∏è",date:"2026-02-24",status:"upcoming",canva:"https://www.canva.com/design/DAG-UH__zyQ/8Gtrh2cUkpii5GF2SpAjwA/view?embed",worksheets:[{name:"Let's GO Shopping! ‚Äî 01",url:"https://nuage08.apps.education.fr/index.php/s/WBLkep63cHZcW4K"},{name:"Let's GO Shopping! ‚Äî 02",url:"https://nuage08.apps.education.fr/index.php/s/YaKC5bXaaZz4Na6"},{name:"Grammar Point",url:"https://nuage08.apps.education.fr/index.php/s/XimxMXge6LHrdk2"}]}]},mbbe:{title:"2nde MBBE",sub:"M√©tiers de la Beaut√© et du Bien-√ätre",color:"#ffc947",bg:"linear-gradient(135deg,#ffc947,#e67e22)",type:"magazine",sequences:[{num:"U1",title:"UNIT 1 ‚Äî GAME ON!",desc:"D√©couvrir et utiliser le vocabulaire des sports et loisirs pour parler de ses passions et de son mode de vie en anglais.",img:"https://nuage08.apps.education.fr/index.php/s/oBLeZ4WGraXHjXi/preview",emoji:"üéÆ",date:"2026-02-23",status:"ongoing",canva:"https://www.canva.com/design/DAGyGMvp9wQ/gxwbYRbXWvREbeVqJCfcoA/view?embed",worksheets:[{name:"Game ON! ‚Äî 01",url:"https://nuage08.apps.education.fr/index.php/s/67nmqDPryP4EN6M"},{name:"Game ON! ‚Äî 02",url:"https://nuage08.apps.education.fr/index.php/s/yfAQddLaZasJaBW"},{name:"Game ON! ‚Äî 03",url:"https://nuage08.apps.education.fr/index.php/s/AeWRiKm2xrS3K4n"},{name:"Game ON! ‚Äî 04",url:"https://nuage08.apps.education.fr/index.php/s/sceSSFzSREDAp24"},{name:"Game ON! ‚Äî 05",url:"https://nuage08.apps.education.fr/index.php/s/M2W73iEZ5rYPL7x"},{name:"Game ON! ‚Äî 06",url:"https://nuage08.apps.education.fr/index.php/s/gkiJWkniMExjP2a"},{name:"Game ON! ‚Äî 07",url:"https://nuage08.apps.education.fr/index.php/s/KnGBCPYjyoobLwR"},{name:"Game ON! ‚Äî 08",url:"https://nuage08.apps.education.fr/index.php/s/4qN5wCGrzTWLSxg"},{name:"Game ON! ‚Äî 09",url:"https://nuage08.apps.education.fr/index.php/s/WPddKDbXBmFyiNY"},{name:"Final Task",url:"https://nuage08.apps.education.fr/index.php/s/jYoZjZGw4pMLrsH"}]},{num:"U2",title:"UNIT 2 ‚Äî Your SKILLS Your JOB",desc:"How can I present and describe a job linked to my skills and training?",img:"https://nuage08.apps.education.fr/index.php/s/Egfz3P2qSnWxYzk/preview",emoji:"üíº",date:"2026-02-23",status:"upcoming",canva:"https://www.canva.com/design/DAG2gJkIJaU/FuRSTN-VMyFTZc1D3Ncw6w/view?embed",folder:"https://nuage08.apps.education.fr/index.php/s/wRSkk7b9xw3AWbw"},{num:"U3",title:"UNIT 3 ‚Äî MY FIRST DAY",desc:"Parler de sa premi√®re journ√©e et expliquer quels outils on utilise et pourquoi.",img:"https://nuage08.apps.education.fr/index.php/s/F4HazbqXCkM8M8t/preview",emoji:"üìñ",date:"2026-02-23",status:"upcoming",worksheets:[{name:"My First Day ‚Äî 01",url:"https://nuage08.apps.education.fr/index.php/s/9yfzkaxo6BL5KCp"}]},{num:"U4",title:"UNIT 4 ‚Äî CUSTOMER SATISFACTION",desc:"Apprendre √† g√©rer une situation d'insatisfaction client en produisant une r√©ponse √©crite professionnelle adapt√©e.",img:"https://nuage08.apps.education.fr/index.php/s/pCL8zseN8iL8Rfg/preview",emoji:"‚≠ê",date:"2026-02-23",status:"upcoming",folder:"https://nuage08.apps.education.fr/index.php/s/qxore83yedHLKTZ"}]},mrc:{title:"2nde MRC",sub:"M√©tiers de la Relation Client",color:"#4ecdc4",bg:"linear-gradient(135deg,#4ecdc4,#16a085)",type:"magazine",sequences:[{num:"U1",title:"UNIT 1 ‚Äî GAME ON!",desc:"D√©couvrir et utiliser le vocabulaire des sports et loisirs pour parler de ses passions et de son mode de vie en anglais.",img:"https://nuage08.apps.education.fr/index.php/s/oBLeZ4WGraXHjXi/preview",emoji:"üéÆ",date:"2026-02-23",status:"ongoing",canva:"https://www.canva.com/design/DAGyGMvp9wQ/gxwbYRbXWvREbeVqJCfcoA/view?embed",worksheets:[{name:"Game ON! ‚Äî 01",url:"https://nuage08.apps.education.fr/index.php/s/67nmqDPryP4EN6M"},{name:"Game ON! ‚Äî 02",url:"https://nuage08.apps.education.fr/index.php/s/yfAQddLaZasJaBW"},{name:"Game ON! ‚Äî 03",url:"https://nuage08.apps.education.fr/index.php/s/AeWRiKm2xrS3K4n"},{name:"Game ON! ‚Äî 04",url:"https://nuage08.apps.education.fr/index.php/s/sceSSFzSREDAp24"},{name:"Game ON! ‚Äî 05",url:"https://nuage08.apps.education.fr/index.php/s/M2W73iEZ5rYPL7x"},{name:"Game ON! ‚Äî 06",url:"https://nuage08.apps.education.fr/index.php/s/gkiJWkniMExjP2a"},{name:"Game ON! ‚Äî 07",url:"https://nuage08.apps.education.fr/index.php/s/KnGBCPYjyoobLwR"},{name:"Game ON! ‚Äî 08",url:"https://nuage08.apps.education.fr/index.php/s/4qN5wCGrzTWLSxg"},{name:"Game ON! ‚Äî 09",url:"https://nuage08.apps.education.fr/index.php/s/WPddKDbXBmFyiNY"},{name:"Final Task",url:"https://nuage08.apps.education.fr/index.php/s/jYoZjZGw4pMLrsH"}]},{num:"U2",title:"UNIT 2 ‚Äî Your SKILLS Your JOB",desc:"How can I present and describe a job linked to my skills and training?",img:"https://nuage08.apps.education.fr/index.php/s/Egfz3P2qSnWxYzk/preview",emoji:"üíº",date:"2026-02-23",status:"upcoming",canva:"https://www.canva.com/design/DAG2gJkIJaU/FuRSTN-VMyFTZc1D3Ncw6w/view?embed",folder:"https://nuage08.apps.education.fr/index.php/s/wRSkk7b9xw3AWbw"},{num:"U3",title:"UNIT 3 ‚Äî WHAT I DID!",desc:"Parler de son stage en utilisant le pr√©t√©rit et exprimer son avis.",img:"https://nuage08.apps.education.fr/index.php/s/8oF5JiW6WeXWDYa/preview",emoji:"üìñ",date:"2026-02-23",status:"upcoming",worksheets:[{name:"What I did! ‚Äî 01",url:"https://nuage08.apps.education.fr/index.php/s/sykYwb2mKF28Q2z"},{name:"What I did! ‚Äî 02",url:"https://nuage08.apps.education.fr/index.php/s/FS6H3G2wTjNJLdp"},{name:"Grammar Box",url:"https://nuage08.apps.education.fr/index.php/s/YKfNQtNx2gqDDkm"},{name:"Memo",url:"https://nuage08.apps.education.fr/index.php/s/Y5MDkfosY4rgMek"}]},{num:"U4",title:"UNIT 4 ‚Äî CUSTOMER SATISFACTION",desc:"Apprendre √† g√©rer une situation d'insatisfaction client en produisant une r√©ponse √©crite professionnelle adapt√©e.",img:"https://nuage08.apps.education.fr/index.php/s/pCL8zseN8iL8Rfg/preview",emoji:"‚≠ê",date:"2026-02-23",status:"upcoming",folder:"https://nuage08.apps.education.fr/index.php/s/qxore83yedHLKTZ"},{num:"U5",title:"UNIT 5 ‚Äî AMAPIANO",desc:"D√©couverte d'une tendance musicale sud-africaine contemporaine et compr√©hension de son impact culturel mondial.",img:"https://nuage08.apps.education.fr/index.php/s/Xpf9zqaTSpnPgdr/preview",emoji:"üéµ",date:"2026-02-23",status:"upcoming",canva:"https://www.canva.com/design/DAHAwZk9HB8/dVX6bu7NfJ_CWABdQdJaEw/view?embed",worksheets:[{name:"Amapiano ‚Äî 01",url:"https://nuage08.apps.education.fr/index.php/s/g8a4HRnaPydcipp"},{name:"Amapiano ‚Äî 02",url:"https://nuage08.apps.education.fr/index.php/s/bDwXssWemXjDnrZ"}]}]},agora:{title:"Terminale AGORA",sub:"Bac Pro Animation, Gestion & Organisation",color:"#c77dff",bg:"linear-gradient(135deg,#c77dff,#6d28d9)",type:"magazine",sequences:[{num:"U1",title:"UNIT 1 ‚Äî Schools Around the World",desc:"D√©couvrir et comparer les syst√®mes scolaires √† travers le monde et comprendre les enjeux li√©s √† l'acc√®s √† l'√©ducation.",img:"https://nuage08.apps.education.fr/index.php/s/bDp6mT9LaPPq7Cd/preview",emoji:"üè´",date:"2026-02-19",status:"done"},{num:"U2",title:"UNIT 2 ‚Äî From Bombay to L.A.",desc:"Comprendre comment le rap, de Los Angeles √† l'Inde, exprime l'identit√©, les valeurs et l'authenticit√© √† travers des voix engag√©es.",img:"https://nuage08.apps.education.fr/index.php/s/AP5LzonDZQdpqZr/preview",emoji:"üéµ",date:"2026-02-19",status:"done",worksheets:[{name:"Worksheet 1",url:"https://nuage08.apps.education.fr/index.php/s/B5tLrDz6j3bZMxB"}],canva:"https://www.canva.com/design/DAG2mL2zBvw/lEcdkTGOLXhEM9A8xX7kUw/view?embed"},{num:"U3",title:"UNIT 3 ‚Äî My Internship",desc:"Apprendre √† raconter son stage de fa√ßon claire, structur√©e et professionnelle √† l'oral.",img:"https://nuage08.apps.education.fr/index.php/s/e53ZAT6LEL5okNf/preview",emoji:"üíº",date:"2026-02-19",status:"done"},{num:"U4",title:"UNIT 4 ‚Äî Make It Public!",desc:"R√©diger un post professionnel clair et adapt√© √† une organisation.",img:"https://nuage08.apps.education.fr/index.php/s/7SNEK6YRSiLFZWw/preview",emoji:"üì¢",date:"2026-02-19",status:"done"},{num:"U5",title:"UNIT 5 ‚Äî The Nomad Kitchen",desc:"Comprendre comment la street food refl√®te l'histoire, la culture et l'√©conomie d'un pays afin de r√©investir ces connaissances dans la cr√©ation d'un projet de food truck inspir√© de diff√©rentes traditions.",img:"https://nuage08.apps.education.fr/index.php/s/kwQbZ3dX5T46fQH/preview",emoji:"üçú",date:"2026-02-19",status:"ongoing",worksheets:[{name:"Worksheet 1",url:"https://nuage08.apps.education.fr/index.php/s/QRmtRnKS5fwmWtg"},{name:"Worksheet 2",url:"https://nuage08.apps.education.fr/index.php/s/pSrXAdiGy7WwSdZ"},{name:"Worksheet 3",url:"https://nuage08.apps.education.fr/index.php/s/7Nz4aeHFdpnPJEo"}]}]},bts:{title:"BTS MECP",sub:"M√©tiers de l'Esth√©tique-Cosm√©tique-Parfumerie",color:"#00d68f",bg:"linear-gradient(135deg,#00d68f,#059669)",type:"magazine",sequences:[{num:"U1",title:"UNIT 1 ‚Äî Becoming a Beauty Professional",desc:"D√©couvrir les m√©tiers du secteur de la beaut√© et apprendre √† pr√©senter son projet professionnel en anglais de mani√®re claire et adapt√©e √† un contexte d'entretien.",img:"https://nuage08.apps.education.fr/index.php/s/Cg67CrTCNpfNCJk/preview",emoji:"üíÑ",date:"2026-02-20",status:"done",canva:"https://www.canva.com/design/DAGzCTCtzBQ/4jHIQbV6ji9kViYevi-KcQ/view?embed",folder:"https://nuage08.apps.education.fr/index.php/s/a5zDe4ZwMQDmMmX"},{num:"U2",title:"UNIT 2 ‚Äî Skincare and Product Expertise",desc:"Permettre de conseiller une routine de soins adapt√©s √† un profil client en justifiant leur choix √† l'oral avec un vocabulaire professionnel pr√©cis.",img:"https://nuage08.apps.education.fr/index.php/s/qbLfWnJfZBQKnGs/preview",emoji:"üß¥",date:"2026-02-20",status:"done",canva:"https://www.canva.com/design/DAG3R74_HUc/s0W2H2ytziIt4u1Ya6smsQ/view?embed",folder:"https://nuage08.apps.education.fr/index.php/s/gxri5LeKkktPYyB"},{num:"U3",title:"UNIT 3 ‚Äî Digital Beauty",desc:"Analyser des campagnes digitales beaut√© afin de comprendre l'impact du message et de la strat√©gie social media sur l'image et la r√©putation d'une marque.",img:"https://nuage08.apps.education.fr/index.php/s/eEkcsTW5xkoWCdC/preview",emoji:"üì±",date:"2026-02-20",status:"done",canva:"https://www.canva.com/design/DAG9pFnfud0/hqccq6FAZVpDiITjjUg8Jg/view?embed",folder:"https://nuage08.apps.education.fr/index.php/s/EmHHtWd98yx3TEK"}]}};

function statusBadge(s){return '';}
function statusBadgeMag(s){return '';}

function renderStandard(d){return d.sequences.map(function(s){const hasWs=s.worksheets&&s.worksheets.length>0;let wsHtml='';if(hasWs){wsHtml='<div class="worksheets">'+s.worksheets.map(function(w){return'<div class="worksheet-row"><span class="ws-name">üìÑ '+w.name+'</span><a class="ws-btn ws-view" href="'+w.url+'" target="_blank">üëÅ Ouvrir</a><a class="ws-btn" style="background:'+d.color+'" href="'+w.url+'/download" target="_blank">‚¨á T√©l√©charger</a></div>';}).join('')+'</div>';}return'<div class="seq-full-item"><div class="seq-full-header"><div class="seq-full-num" style="background:'+d.color+'">'+s.num+'</div><div class="seq-full-title">'+s.title+'</div></div><div class="seq-full-desc">'+s.desc+'</div>'+wsHtml+'</div>';}).join('');}

function renderMagazine(d){const grid='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:10px;">'+d.sequences.map(function(s,i){const wsCount=s.worksheets?s.worksheets.length:0;const imgHtml=s.img?'<img loading="lazy" class="mag-img" src="'+s.img+'" alt="'+s.title+'" onerror="this.style.display=\'none\';this.nextSibling.style.display=\'flex\'"><div class="mag-img-placeholder" style="display:none">'+s.emoji+'</div>':'<div class="mag-img-placeholder">'+s.emoji+'</div>';return'<div class="seq-magazine-item" onclick="openMagDetail(\''+d.title.replace(/'/g,"\\'")+'\','+i+')">'+imgHtml+'<div class="mag-body">'+statusBadgeMag(s.status)+'<div class="mag-badge">'+s.num+'</div><div class="mag-title">'+s.title+'</div><div class="mag-desc">'+(s.desc&&s.desc!=='√Ä venir ‚Äî le contenu sera bient√¥t disponible.'?s.desc.substring(0,80)+(s.desc.length>80?'...':''):'')+'</div><div class="mag-footer"><span class="mag-ws-count">'+(wsCount>0?'üìÑ '+wsCount+' worksheet'+(wsCount>1?'s':''):'')+'</span><span class="mag-cta">Voir ‚Üí</span></div></div></div>';}).join('')+'</div>';return'<div id="mag-grid">'+grid+'</div><div class="mag-detail" id="mag-detail"></div>';}

// ‚ïê‚ïê GAMES DATABASE ‚ïê‚ïê
// To add a game: add an entry with classKey + seqNum + the file path in /jeux/
const gamesData = {
  'agora': {
    'U5': [
      { name:'Whack-a-Word', emoji:'‚ö°', meta:'Vocabulaire ¬∑ The Nomad Kitchen ¬∑ 12 mots', file:'jeux/whack_a_word_nomad_kitchen.html' },
      { name:'True or False', emoji:'‚è±', meta:'Compr√©hension ¬∑ Rise of the Food Truck', file:'jeux/quiz_truefalse_nomad_kitchen.html' },
      { name:'Phrase Builder',emoji:'üîÄ', meta:'Syntaxe & expression ¬∑ CCF Prep',      file:'jeux/phrase_builder_nomad_kitchen.html' },
    ]
    ]
  }
  // Future games added here, e.g.:
  // 'cap': { 'U1': [ { name:'Pendu', emoji:'ü™¢', meta:'Vocabulaire ¬∑ Healthy ME!', file:'jeux/hangman_cap_u1.html' } ] }
};

function renderGamesSection(classKey, seqNum, color) {
  const classGames = gamesData[classKey];
  if (!classGames) return '';
  const seqGames = classGames[seqNum];
  if (!seqGames || seqGames.length === 0) return '';
  const rows = seqGames.map(function(g) {
    return '<div class="game-row">'
      + '<span class="game-emoji">'+g.emoji+'</span>'
      + '<div class="game-info"><div class="game-name">'+g.name+'</div><div class="game-meta">'+g.meta+'</div></div>'
      + '<a class="game-play-btn" href="'+g.file+'" target="_blank">‚ñ∂ Play</a>'
      + '</div>';
  }).join('');
  return '<div class="games-section">'
    + '<div class="games-section-header">'
    + '<span class="games-icon">üéÆ</span>'
    + '<span class="games-label">Games</span>'
    + '<span class="games-desc">'+seqGames.length+' jeu'+(seqGames.length>1?'x':'')+' disponible'+(seqGames.length>1?'s':'')+'</span>'
    + '</div>'
    + '<div class="games-list">'+rows+'</div>'
    + '</div>';
}

function openMagDetail(classTitle,idx){const key=Object.keys(data).find(function(k){return data[k].title===classTitle;});const d=data[key];const s=d.sequences[idx];const hasWs=s.worksheets&&s.worksheets.length>0;const videoHtml=s.video?'<div class="mag-detail-ws-title" style="margin-top:20px">üé¨ Vid√©o</div><video controls style="width:100%;border-radius:10px;margin-bottom:16px;background:#000;max-height:300px"><source src="'+s.video+'/download" type="video/mp4"></video>':'';const canvaHtml=s.canva?'<div class="mag-detail-ws-title" style="margin-top:20px">üé® Pr√©sentation</div><div style="position:relative;width:100%;height:0;padding-top:56.25%;border-radius:10px;overflow:hidden;margin-bottom:16px;"><iframe loading="lazy" style="position:absolute;width:100%;height:100%;top:0;left:0;border:none" src="'+s.canva+'" allowfullscreen></iframe></div>':'';const folderHtml=s.folder?'<div class="mag-detail-ws-title" style="margin-top:20px">üìÅ Documents</div><a href="'+s.folder+'" target="_blank" class="ws-btn" style="background:'+d.color+';margin-bottom:16px;display:inline-flex">üìÅ Acc√©der √† tous les documents</a><br><br>':'';const wsHtml=hasWs?'<div class="mag-detail-ws-title">üìÑ Worksheets</div><div class="mag-ws-list">'+s.worksheets.map(function(w){return'<div class="mag-ws-row"><span class="mag-ws-name">üìÑ '+w.name+'</span><a class="ws-btn ws-view" href="'+w.url+'" target="_blank">üëÅ Ouvrir</a><a class="ws-btn" style="background:'+d.color+'" href="'+w.url+'/download" target="_blank">‚¨á T√©l√©charger</a></div>';}).join('')+'</div>':(s.folder?'':'<p style="color:var(--muted);font-size:13px">Les documents seront bient√¥t disponibles.</p>');const imgHtml=s.img?'<img loading="lazy" class="mag-detail-img" src="'+s.img+'" alt="'+s.title+'" onerror="this.style.display=\'none\'">':'';
const gamesHtml = renderGamesSection(key, s.num, d.color);
const detail=document.getElementById('mag-detail');const grid=document.getElementById('mag-grid');detail.innerHTML='<div class="mag-detail-header"><button class="mag-back" onclick="closeMagDetail()">‚Üê Retour</button><span class="mag-detail-title">'+s.title+'</span></div>'+imgHtml+'<div class="mag-detail-desc">'+s.desc+'</div>'+videoHtml+canvaHtml+gamesHtml+folderHtml+wsHtml;grid.style.display='none';detail.classList.add('open');}
function closeMagDetail(){document.getElementById('mag-detail').classList.remove('open');document.getElementById('mag-grid').style.display='';}

function openModal(key){const d=data[key];document.getElementById('modal-title').textContent=d.title;document.getElementById('modal-sub').textContent=d.sub;document.getElementById('modal-header').style.background=d.bg;const container=document.getElementById('modal-sequences');if(d.type==='magazine'){container.innerHTML=renderMagazine(d);}else{container.innerHTML='<div class="seq-full">'+renderStandard(d)+'</div>';}document.getElementById('modal-overlay').classList.add('open');document.body.style.overflow='hidden';}
function closeModal(){document.getElementById('modal-overlay').classList.remove('open');document.body.style.overflow='';}
function closeModalOutside(e){if(e.target===document.getElementById('modal-overlay'))closeModal();}
function setActiveNav(el){document.querySelectorAll('.mobile-nav-item').forEach(function(btn){btn.classList.remove('active');});el.classList.add('active');}

window.addEventListener('load',function(){function revealCards(){document.querySelectorAll('.class-card').forEach(function(card,i){if(card.getBoundingClientRect().top<window.innerHeight-60){setTimeout(function(){card.classList.add('visible');},i*100);}});}window.addEventListener('scroll',revealCards);setTimeout(revealCards,200);});
document.addEventListener('keydown',function(e){if(e.key==='Escape')closeModal();});
</script>

<nav class="mobile-nav">
  <div class="mobile-nav-inner">
    <button class="mobile-nav-item" onclick="openModal('cap');setActiveNav(this)"><span class="nav-emoji">üõçÔ∏è</span><span class="nav-label">CAP</span></button>
    <button class="mobile-nav-item" onclick="openModal('mbbe');setActiveNav(this)"><span class="nav-emoji">üß¥</span><span class="nav-label">MBBE</span></button>
    <button class="mobile-nav-item" onclick="openModal('mrc');setActiveNav(this)"><span class="nav-emoji">üõí</span><span class="nav-label">MRC</span></button>
    <button class="mobile-nav-item" onclick="openModal('agora');setActiveNav(this)"><span class="nav-emoji">üéôÔ∏è</span><span class="nav-label">AGORA</span></button>
    <button class="mobile-nav-item" onclick="openModal('bts');setActiveNav(this)"><span class="nav-emoji">üéì</span><span class="nav-label">BTS</span></button>
  </div>
</nav>

<script>
// MBBE - Delicate glitter highlight
document.querySelectorAll('.mbbe').forEach(function(card) {
  card.addEventListener('mouseenter', function() {
    for (var i = 0; i < 12; i++) {
      (function(i) {
        setTimeout(function() {
          var g = document.createElement('div');
          g.className = 'glitter';
          var size = Math.random() * 3 + 2;
          var colors = ['#fff9c4','#fffde7','#ffffff','#ffd700','#ffe082'];
          g.style.cssText = [
            'width:' + size + 'px',
            'height:' + size + 'px',
            'left:' + (5 + Math.random() * 90) + '%',
            'top:' + (5 + Math.random() * 90) + '%',
            'background:' + colors[Math.floor(Math.random()*colors.length)],
            'box-shadow:0 0 ' + (size*2) + 'px ' + colors[Math.floor(Math.random()*colors.length)],
            'animation-delay:' + (Math.random()*0.5) + 's',
            'animation-duration:' + (0.8 + Math.random()*0.6) + 's'
          ].join(';');
          card.appendChild(g);
          setTimeout(function() { g.remove(); }, 1500);
        }, i * 70);
      })(i);
    }
  });
});

// CAP - Floating dots
document.querySelectorAll('.cap').forEach(function(card) {
  card.addEventListener('mouseenter', function() {
    for (var i = 0; i < 14; i++) {
      (function(i) {
        setTimeout(function() {
          var d = document.createElement('div');
          d.className = 'float-dot';
          var size = Math.random() * 7 + 3;
          d.style.cssText = [
            'width:' + size + 'px',
            'height:' + size + 'px',
            'left:' + (10 + Math.random() * 80) + '%',
            'bottom:' + (Math.random() * 40) + '%',
            'animation-duration:' + (1.4 + Math.random()*0.8) + 's'
          ].join(';');
          card.appendChild(d);
          setTimeout(function() { d.remove(); }, 2200);
        }, i * 80);
      })(i);
    }
  });
});

// AGORA - Equalizer bars
document.querySelectorAll('.agora').forEach(function(card) {
  var bars = [];
  card.addEventListener('mouseenter', function() {
    var cardW = card.offsetWidth;
    var barCount = 7;
    var spacing = 18;
    var startX = cardW - (barCount * spacing) - 16;
    for (var i = 0; i < barCount; i++) {
      var b = document.createElement('div');
      b.className = 'eq-bar';
      var maxH = 10 + Math.random() * 20;
      b.style.cssText = [
        'left:' + (startX + i * spacing) + 'px',
        'height:' + maxH + 'px',
        'transform-origin:bottom',
        '--dur:' + (0.3 + Math.random()*0.4) + 's',
        'animation-delay:' + (Math.random()*0.3) + 's'
      ].join(';');
      card.appendChild(b);
      bars.push(b);
    }
  });
  card.addEventListener('mouseleave', function() {
    bars.forEach(function(b) { b.remove(); });
    bars = [];
  });
});
</script>

<script>
// POP sound on card click
function playPop() {
  try {
    var ctx = new (window.AudioContext || window.webkitAudioContext)();
    var o = ctx.createOscillator();
    var g = ctx.createGain();
    o.connect(g);
    g.connect(ctx.destination);
    o.type = 'sine';
    o.frequency.setValueAtTime(520, ctx.currentTime);
    o.frequency.exponentialRampToValueAtTime(280, ctx.currentTime + 0.08);
    g.gain.setValueAtTime(0.18, ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.18);
    o.start(ctx.currentTime);
    o.stop(ctx.currentTime + 0.18);
  } catch(e) {}
}
document.querySelectorAll('.class-card').forEach(function(card) {
  card.addEventListener('click', playPop);
});
</script>
</body>
</html>
