<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The English Hub</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800;900&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --cap: #FF6B6B;
    --mbbe: #FFB347;
    --mrc: #4ECDC4;
    --agora: #A78BFA;
    --bts: #34D399;
    --dark: #0d0d1a;
    --card: #16162a;
    --card2: #1e1e35;
    --text: #eeeef5;
    --muted: #8888aa;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Nunito', sans-serif;
    background: var(--dark);
    color: var(--text);
    min-height: 100vh;
  }

  .bg-orbs {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
  }
  .orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.12;
    animation: drift 12s ease-in-out infinite;
  }
  .orb1 { width: 600px; height: 600px; background: var(--cap); top: -200px; left: -200px; animation-delay: 0s; }
  .orb2 { width: 500px; height: 500px; background: var(--mrc); top: 30%; right: -150px; animation-delay: -4s; }
  .orb3 { width: 400px; height: 400px; background: var(--agora); bottom: -100px; left: 30%; animation-delay: -8s; }

  @keyframes drift {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(30px, -30px) scale(1.05); }
    66% { transform: translate(-20px, 20px) scale(0.95); }
  }

  .hero {
    position: relative;
    z-index: 1;
    text-align: center;
    padding: 80px 20px 60px;
  }

  .flag-row {
    display: flex;
    justify-content: center;
    gap: 12px;
    margin-bottom: 28px;
    font-size: 2rem;
    animation: fadeDown 0.8s ease both;
  }

  .hero-eyebrow {
    font-size: 13px;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 16px;
    animation: fadeDown 0.8s ease 0.1s both;
  }

  .hero h1 {
    font-family: 'Syne', sans-serif;
    font-size: clamp(3.5rem, 10vw, 7rem);
    font-weight: 900;
    line-height: 0.95;
    margin-bottom: 24px;
    animation: fadeDown 0.8s ease 0.2s both;
  }

  .hero h1 .the {
    display: block;
    font-size: 0.38em;
    letter-spacing: 10px;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 10px;
  }

  .hero h1 .english {
    background: linear-gradient(135deg, #FF6B6B 0%, #FFB347 25%, #4ECDC4 50%, #A78BFA 75%, #34D399 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    background-size: 200%;
    animation: shimmer 4s linear infinite;
  }

  .hero h1 .hub {
    display: block;
    font-size: 0.5em;
    color: rgba(255,255,255,0.15);
    letter-spacing: 8px;
    text-transform: uppercase;
    margin-top: 6px;
  }

  @keyframes shimmer {
    0% { background-position: 0% 50%; }
    100% { background-position: 200% 50%; }
  }

  .hero-sub {
    color: var(--muted);
    font-size: 18px;
    max-width: 480px;
    margin: 0 auto 48px;
    line-height: 1.6;
    animation: fadeDown 0.8s ease 0.3s both;
  }

  @keyframes fadeDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .classes {
    position: relative;
    z-index: 1;
    max-width: 1100px;
    margin: 0 auto;
    padding: 0 24px 80px;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 24px;
  }

  .class-card {
    background: var(--card);
    border-radius: 24px;
    overflow: hidden;
    border: 1px solid rgba(255,255,255,0.06);
    transition: transform 0.3s cubic-bezier(0.34,1.56,0.64,1), border-color 0.3s ease;
    cursor: pointer;
    animation: fadeUp 0.6s ease both;
    text-decoration: none;
    display: block;
    color: inherit;
  }

  .class-card:hover {
    transform: translateY(-8px) scale(1.01);
    border-color: rgba(255,255,255,0.15);
  }

  .class-card:nth-child(1) { animation-delay: 0.1s; }
  .class-card:nth-child(2) { animation-delay: 0.2s; }
  .class-card:nth-child(3) { animation-delay: 0.3s; }
  .class-card:nth-child(4) { animation-delay: 0.4s; }
  .class-card:nth-child(5) { animation-delay: 0.5s; }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .card-top {
    height: 120px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 24px;
    position: relative;
    overflow: hidden;
  }

  .card-emoji {
    font-size: 3rem;
    position: relative;
    z-index: 1;
    filter: drop-shadow(0 4px 12px rgba(0,0,0,0.3));
  }

  .card-level {
    position: relative;
    z-index: 1;
    font-family: 'Syne', sans-serif;
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    background: rgba(255,255,255,0.15);
    backdrop-filter: blur(10px);
    padding: 6px 14px;
    border-radius: 50px;
    color: white;
  }

  .card-body { padding: 24px; }

  .card-title {
    font-family: 'Syne', sans-serif;
    font-size: 1.6rem;
    font-weight: 800;
    margin-bottom: 6px;
    line-height: 1.1;
  }

  .card-full {
    font-size: 13px;
    color: var(--muted);
    margin-bottom: 20px;
    line-height: 1.4;
  }

  .card-sequences { display: flex; flex-direction: column; gap: 8px; }

  .seq-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 14px;
    background: var(--card2);
    border-radius: 10px;
    font-size: 13px;
    font-weight: 600;
    border: 1px solid rgba(255,255,255,0.04);
  }

  .seq-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
  .seq-num { font-size: 11px; color: var(--muted); margin-left: auto; font-weight: 700; }

  .card-footer {
    padding: 16px 24px;
    border-top: 1px solid rgba(255,255,255,0.05);
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 13px;
    color: var(--muted);
  }

  .card-arrow {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    transition: transform 0.2s;
  }

  .class-card:hover .card-arrow { transform: translateX(4px); }

  .cap .card-top { background: linear-gradient(135deg, #FF6B6B, #c0392b); }
  .cap .card-title { color: #FF6B6B; }
  .cap .seq-dot { background: #FF6B6B; }
  .cap .card-arrow { background: rgba(255,107,107,0.15); color: #FF6B6B; }

  .mbbe .card-top { background: linear-gradient(135deg, #FFB347, #e67e22); }
  .mbbe .card-title { color: #FFB347; }
  .mbbe .seq-dot { background: #FFB347; }
  .mbbe .card-arrow { background: rgba(255,179,71,0.15); color: #FFB347; }

  .mrc .card-top { background: linear-gradient(135deg, #4ECDC4, #16a085); }
  .mrc .card-title { color: #4ECDC4; }
  .mrc .seq-dot { background: #4ECDC4; }
  .mrc .card-arrow { background: rgba(78,205,196,0.15); color: #4ECDC4; }

  .agora .card-top { background: linear-gradient(135deg, #A78BFA, #6d28d9); }
  .agora .card-title { color: #A78BFA; }
  .agora .seq-dot { background: #A78BFA; }
  .agora .card-arrow { background: rgba(167,139,250,0.15); color: #A78BFA; }

  .bts .card-top { background: linear-gradient(135deg, #34D399, #059669); }
  .bts .card-title { color: #34D399; }
  .bts .seq-dot { background: #34D399; }
  .bts .card-arrow { background: rgba(52,211,153,0.15); color: #34D399; }

  footer {
    position: relative;
    z-index: 1;
    text-align: center;
    padding: 40px 20px;
    color: var(--muted);
    font-size: 13px;
    border-top: 1px solid rgba(255,255,255,0.05);
  }

  footer span {
    background: linear-gradient(90deg, #FF6B6B, #A78BFA);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: 700;
  }

  .modal-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    backdrop-filter: blur(8px);
    z-index: 100;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }

  .modal-overlay.open { display: flex; }

  .modal {
    background: var(--card);
    border-radius: 24px;
    border: 1px solid rgba(255,255,255,0.1);
    width: 100%;
    max-width: 640px;
    max-height: 88vh;
    overflow-y: auto;
    animation: popIn 0.3s cubic-bezier(0.34,1.56,0.64,1);
  }

  @keyframes popIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
  }

  .modal-header {
    height: 100px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 24px;
    position: sticky;
    top: 0;
    z-index: 10;
  }

  .modal-title-block h2 {
    font-family: 'Syne', sans-serif;
    font-size: 1.8rem;
    font-weight: 800;
  }

  .modal-title-block p { font-size: 13px; opacity: 0.7; margin-top: 2px; }

  .modal-close {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(255,255,255,0.1);
    border: none;
    color: white;
    font-size: 1.2rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s;
    flex-shrink: 0;
  }

  .modal-close:hover { background: rgba(255,255,255,0.2); }
  .modal-body { padding: 24px; }
  .seq-full { display: flex; flex-direction: column; gap: 14px; }

  .seq-full-item {
    background: var(--card2);
    border-radius: 14px;
    padding: 18px;
    border: 1px solid rgba(255,255,255,0.05);
    transition: border-color 0.2s;
  }

  .seq-full-item:hover { border-color: rgba(255,255,255,0.12); }

  .seq-full-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 8px;
  }

  .seq-full-num {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Syne', sans-serif;
    font-weight: 800;
    font-size: 0.85rem;
    color: white;
    flex-shrink: 0;
  }

  .seq-full-title { font-weight: 700; font-size: 1rem; }

  .coming-soon {
    display: inline-block;
    font-size: 11px;
    padding: 3px 10px;
    border-radius: 20px;
    background: rgba(255,255,255,0.07);
    color: var(--muted);
    margin-left: auto;
  }

  .seq-full-desc {
    font-size: 13px;
    color: var(--muted);
    line-height: 1.6;
    padding-left: 44px;
    margin-bottom: 10px;
  }

  .worksheets {
    padding-left: 44px;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .worksheet-row {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
  }

  .ws-name {
    font-size: 13px;
    font-weight: 700;
    color: var(--text);
    min-width: 110px;
  }

  .ws-btn {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 6px 14px;
    border-radius: 8px;
    font-size: 12px;
    font-weight: 700;
    cursor: pointer;
    border: none;
    transition: opacity 0.2s, transform 0.2s;
    text-decoration: none;
    color: white;
  }

  .ws-btn:hover { opacity: 0.8; transform: translateY(-1px); }
  .ws-view { background: rgba(255,255,255,0.12); }

  .pdf-viewer {
    margin-top: 10px;
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid rgba(255,255,255,0.08);
    display: none;
  }

  .pdf-viewer.open { display: block; }

  .pdf-viewer iframe {
    width: 100%;
    height: 460px;
    border: none;
    display: block;
    background: #fff;
  }

  @media (max-width: 640px) {
    .classes { grid-template-columns: 1fr; }
    .hero h1 { font-size: 3rem; }
  }
</style>
</head>
<body>

<div class="bg-orbs">
  <div class="orb orb1"></div>
  <div class="orb orb2"></div>
  <div class="orb orb3"></div>
</div>

<div class="hero">
  <div class="flag-row">&#127468;&#127463; &#127758; &#127482;&#127480;</div>
  <div class="hero-eyebrow">Lyc√©e Pro ‚Ä¢ Anglais LV1/LV2</div>
  <h1>
    <span class="the">The</span>
    <span class="english">English</span>
    <span class="hub">Hub</span>
  </h1>
  <p class="hero-sub">Retrouve ici tous tes cours d'anglais. Clique sur ta classe pour acc√©der √† tes s√©quences. üöÄ</p>
</div>

<div class="classes">

  <div class="class-card cap" onclick="openModal('cap')">
    <div class="card-top">
      <span class="card-emoji">üîß</span>
      <span class="card-level">CAP</span>
    </div>
    <div class="card-body">
      <div class="card-title">CAP TEPC</div>
      <div class="card-full">Technicien en √ânergie et Environnement</div>
      <div class="card-sequences">
        <div class="seq-item"><div class="seq-dot"></div> S√©quence 1 ‚Äî √Ä venir <span class="seq-num">S1</span></div>
        <div class="seq-item"><div class="seq-dot"></div> S√©quence 2 ‚Äî √Ä venir <span class="seq-num">S2</span></div>
        <div class="seq-item"><div class="seq-dot"></div> S√©quence 3 ‚Äî √Ä venir <span class="seq-num">S3</span></div>
      </div>
    </div>
    <div class="card-footer">
      <span>Voir les s√©quences</span>
      <div class="card-arrow">‚Üí</div>
    </div>
  </div>

  <div class="class-card mbbe" onclick="openModal('mbbe')">
    <div class="card-top">
      <span class="card-emoji">‚ö°</span>
      <span class="card-level">2nde</span>
    </div>
    <div class="card-body">
      <div class="card-title">2nde MBBE</div>
      <div class="card-full">M√©tiers des Bureaux et des Bases √âlectroniques</div>
      <div class="card-sequences">
        <div class="seq-item"><div class="seq-dot"></div> S√©quence 1 ‚Äî √Ä venir <span class="seq-num">S1</span></div>
        <div class="seq-item"><div class="seq-dot"></div> S√©quence 2 ‚Äî √Ä venir <span class="seq-num">S2</span></div>
        <div class="seq-item"><div class="seq-dot"></div> S√©quence 3 ‚Äî √Ä venir <span class="seq-num">S3</span></div>
      </div>
    </div>
    <div class="card-footer">
      <span>Voir les s√©quences</span>
      <div class="card-arrow">‚Üí</div>
    </div>
  </div>

  <div class="class-card mrc" onclick="openModal('mrc')">
    <div class="card-top">
      <span class="card-emoji">üõí</span>
      <span class="card-level">2nde</span>
    </div>
    <div class="card-body">
      <div class="card-title">2nde MRC</div>
      <div class="card-full">M√©tiers de la Relation Client</div>
      <div class="card-sequences">
        <div class="seq-item"><div class="seq-dot"></div> S√©quence 1 ‚Äî √Ä venir <span class="seq-num">S1</span></div>
        <div class="seq-item"><div class="seq-dot"></div> S√©quence 2 ‚Äî √Ä venir <span class="seq-num">S2</span></div>
        <div class="seq-item"><div class="seq-dot"></div> S√©quence 3 ‚Äî √Ä venir <span class="seq-num">S3</span></div>
      </div>
    </div>
    <div class="card-footer">
      <span>Voir les s√©quences</span>
      <div class="card-arrow">‚Üí</div>
    </div>
  </div>

  <div class="class-card agora" onclick="openModal('agora')">
    <div class="card-top">
      <span class="card-emoji">üéôÔ∏è</span>
      <span class="card-level">Terminale</span>
    </div>
    <div class="card-body">
      <div class="card-title">Tle AGORA</div>
      <div class="card-full">Bac Pro Animation, Gestion &amp; Organisation des Relations humaines</div>
      <div class="card-sequences">
        <div class="seq-item"><div class="seq-dot"></div> UNIT 1 <span class="seq-num">S1</span></div>
        <div class="seq-item"><div class="seq-dot"></div> UNIT 2 <span class="seq-num">S2</span></div>
        <div class="seq-item"><div class="seq-dot"></div> UNIT 3 <span class="seq-num">S3</span></div>
      </div>
    </div>
    <div class="card-footer">
      <span>Voir les s√©quences</span>
      <div class="card-arrow">‚Üí</div>
    </div>
  </div>

  <div class="class-card bts" onclick="openModal('bts')">
    <div class="card-top">
      <span class="card-emoji">üéì</span>
      <span class="card-level">BTS</span>
    </div>
    <div class="card-body">
      <div class="card-title">BTS MECP</div>
      <div class="card-full">Management des Entreprises et Communication Professionnelle</div>
      <div class="card-sequences">
        <div class="seq-item"><div class="seq-dot"></div> S√©quence 1 ‚Äî √Ä venir <span class="seq-num">S1</span></div>
        <div class="seq-item"><div class="seq-dot"></div> S√©quence 2 ‚Äî √Ä venir <span class="seq-num">S2</span></div>
        <div class="seq-item"><div class="seq-dot"></div> S√©quence 3 ‚Äî √Ä venir <span class="seq-num">S3</span></div>
      </div>
    </div>
    <div class="card-footer">
      <span>Voir les s√©quences</span>
      <div class="card-arrow">‚Üí</div>
    </div>
  </div>

</div>

<footer>
  <p>‚ú® <span>The English Hub</span> ‚Äî Langues Vivantes Anglais ¬∑ Lyc√©e Pro</p>
</footer>

<div class="modal-overlay" id="modal-overlay" onclick="closeModalOutside(event)">
  <div class="modal" id="modal">
    <div class="modal-header" id="modal-header">
      <div class="modal-title-block">
        <h2 id="modal-title">Classe</h2>
        <p id="modal-sub">Retrouve tes s√©quences</p>
      </div>
      <button class="modal-close" onclick="closeModal()">‚úï</button>
    </div>
    <div class="modal-body">
      <div class="seq-full" id="modal-sequences"></div>
    </div>
  </div>
</div>

<script>
  const data = {
    cap: {
      title: "CAP TEPC",
      sub: "Technicien en √ânergie et Environnement",
      color: "#FF6B6B",
      bg: "linear-gradient(135deg, #FF6B6B, #c0392b)",
      sequences: [
        { num: "S1", title: "S√©quence 1", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." },
        { num: "S2", title: "S√©quence 2", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." },
        { num: "S3", title: "S√©quence 3", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." }
      ]
    },
    mbbe: {
      title: "2nde MBBE",
      sub: "M√©tiers des Bureaux et Bases √âlectroniques",
      color: "#FFB347",
      bg: "linear-gradient(135deg, #FFB347, #e67e22)",
      sequences: [
        { num: "S1", title: "S√©quence 1", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." },
        { num: "S2", title: "S√©quence 2", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." },
        { num: "S3", title: "S√©quence 3", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." }
      ]
    },
    mrc: {
      title: "2nde MRC",
      sub: "M√©tiers de la Relation Client",
      color: "#4ECDC4",
      bg: "linear-gradient(135deg, #4ECDC4, #16a085)",
      sequences: [
        { num: "S1", title: "S√©quence 1", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." },
        { num: "S2", title: "S√©quence 2", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." },
        { num: "S3", title: "S√©quence 3", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." }
      ]
    },
    agora: {
      title: "Terminale AGORA",
      sub: "Bac Pro Animation, Gestion & Organisation",
      color: "#A78BFA",
      bg: "linear-gradient(135deg, #A78BFA, #6d28d9)",
      sequences: [
        { num: "S1", title: "UNIT 1", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." },
        { num: "S2", title: "UNIT 2", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." },
        { num: "S3", title: "UNIT 3", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." },
        { num: "S4", title: "UNIT 4", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." },
        { num: "S5", title: "UNIT 5 ‚Äî The Nomad Kitchen", desc: "D√©couvre la cuisine nomade √† travers le monde.", worksheets: [
          { name: "Worksheet 1", url: "https://nuage08.apps.education.fr/index.php/s/QRmtRnKS5fwmWtg" },
          { name: "Worksheet 2", url: "https://nuage08.apps.education.fr/index.php/s/pSrXAdiGy7WwSdZ" },
          { name: "Worksheet 3", url: "https://nuage08.apps.education.fr/index.php/s/7Nz4aeHFdpnPJEo" }
        ]}
      ]
    },
    bts: {
      title: "BTS MECP",
      sub: "Management des Entreprises et Communication Pro",
      color: "#34D399",
      bg: "linear-gradient(135deg, #34D399, #059669)",
      sequences: [
        { num: "S1", title: "S√©quence 1", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." },
        { num: "S2", title: "S√©quence 2", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." },
        { num: "S3", title: "S√©quence 3", desc: "√Ä venir ‚Äî le contenu sera bient√¥t disponible." }
      ]
    }
  };

  let activeViewer = null;

  function togglePdf(id, url) {
    const viewer = document.getElementById(id);
    if (!viewer) return;
    if (viewer.classList.contains('open')) {
      viewer.classList.remove('open');
      viewer.innerHTML = '';
      activeViewer = null;
    } else {
      if (activeViewer) {
        activeViewer.classList.remove('open');
        activeViewer.innerHTML = '';
      }
      viewer.innerHTML = '<iframe src="' + url + '" allowfullscreen></iframe>';
      viewer.classList.add('open');
      activeViewer = viewer;
    }
  }

  function openModal(key) {
    const d = data[key];
    document.getElementById('modal-title').textContent = d.title;
    document.getElementById('modal-sub').textContent = d.sub;
    document.getElementById('modal-header').style.background = d.bg;
    activeViewer = null;

    const seqHtml = d.sequences.map(function(s, i) {
      const hasWs = s.worksheets && s.worksheets.length > 0;
      let wsHtml = '';
      if (hasWs) {
        wsHtml = '<div class="worksheets">' +
          s.worksheets.map(function(w, j) {
            const vid = 'pdf-' + key + '-' + i + '-' + j;
            return '<div class="worksheet-row">' +
              '<span class="ws-name">üìÑ ' + w.name + '</span>' +
              '<button class="ws-btn ws-view" onclick="togglePdf(\'' + vid + '\', \'' + w.url + '\')">üëÅ Voir</button>' +
              '<a class="ws-btn" style="background:' + d.color + '" href="' + w.url + '" target="_blank">‚¨á T√©l√©charger</a>' +
              '</div>' +
              '<div class="pdf-viewer" id="' + vid + '"></div>';
          }).join('') +
          '</div>';
      }

      return '<div class="seq-full-item">' +
        '<div class="seq-full-header">' +
        '<div class="seq-full-num" style="background:' + d.color + '">' + s.num + '</div>' +
        '<div class="seq-full-title">' + s.title + '</div>' +
        (!hasWs ? '<span class="coming-soon">√Ä venir</span>' : '') +
        '</div>' +
        '<div class="seq-full-desc">' + s.desc + '</div>' +
        wsHtml +
        '</div>';
    }).join('');

    document.getElementById('modal-sequences').innerHTML = seqHtml;
    document.getElementById('modal-overlay').classList.add('open');
    document.body.style.overflow = 'hidden';
  }

  function closeModal() {
    document.getElementById('modal-overlay').classList.remove('open');
    document.body.style.overflow = '';
    activeViewer = null;
  }

  function closeModalOutside(e) {
    if (e.target === document.getElementById('modal-overlay')) closeModal();
  }

  document.addEventListener('keydown', function(e) { if (e.key === 'Escape') closeModal(); });
</script>

</body>
</html>
